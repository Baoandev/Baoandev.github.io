<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.127.0">
    <meta name="description" content="">
<meta name="author" content="journeyoftheaverageguy@gmail.com">

    <link rel="icon" href="/images/favicon.png" type="image/png">

    <title>Lab: Streaming ETL with Glue :: Bao An Thai</title>

    
    <link href="/css/nucleus.css?1726578020" rel="stylesheet">
    <link href="/css/fontawesome-all.min.css?1726578020" rel="stylesheet">
    <link href="/css/hybrid.css?1726578020" rel="stylesheet">
    <link href="/css/featherlight.min.css?1726578020" rel="stylesheet">
    <link href="/css/perfect-scrollbar.min.css?1726578020" rel="stylesheet">
    <link href="/css/auto-complete.css?1726578020" rel="stylesheet">
    <link href="/css/atom-one-dark-reasonable.css?1726578020" rel="stylesheet">
    <link href="/css/theme.css?1726578020" rel="stylesheet">
    <link href="/css/hugo-theme.css?1726578020" rel="stylesheet">
    
    <link href="/css/theme-workshop.css?1726578020" rel="stylesheet">
    
    

    <script src="/js/jquery-3.3.1.min.js?1726578020"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/2-realtime/2.3-labglue/">
    <nav id="sidebar" class="showVisitedLinks">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="/">

<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 60 30" width="30%"><defs><style>.cls-1{fill:#fff;}.cls-2{fill:#f90;fill-rule:evenodd;}</style></defs><title>AWS-Logo_White-Color</title><path class="cls-1" d="M14.09,10.85a4.7,4.7,0,0,0,.19,1.48,7.73,7.73,0,0,0,.54,1.19.77.77,0,0,1,.12.38.64.64,0,0,1-.32.49l-1,.7a.83.83,0,0,1-.44.15.69.69,0,0,1-.49-.23,3.8,3.8,0,0,1-.6-.77q-.25-.42-.51-1a6.14,6.14,0,0,1-4.89,2.3,4.54,4.54,0,0,1-3.32-1.19,4.27,4.27,0,0,1-1.22-3.2A4.28,4.28,0,0,1,3.61,7.75,6.06,6.06,0,0,1,7.69,6.46a12.47,12.47,0,0,1,1.76.13q.92.13,1.91.36V5.73a3.65,3.65,0,0,0-.79-2.66A3.81,3.81,0,0,0,7.86,2.3a7.71,7.71,0,0,0-1.79.22,12.78,12.78,0,0,0-1.79.57,4.55,4.55,0,0,1-.58.22l-.26,0q-.35,0-.35-.52V2a1.09,1.09,0,0,1,.12-.58,1.2,1.2,0,0,1,.47-.35A10.88,10.88,0,0,1,5.77.32,10.19,10.19,0,0,1,8.36,0a6,6,0,0,1,4.35,1.35,5.49,5.49,0,0,1,1.38,4.09ZM7.34,13.38a5.36,5.36,0,0,0,1.72-.31A3.63,3.63,0,0,0,10.63,12,2.62,2.62,0,0,0,11.19,11a5.63,5.63,0,0,0,.16-1.44v-.7a14.35,14.35,0,0,0-1.53-.28,12.37,12.37,0,0,0-1.56-.1,3.84,3.84,0,0,0-2.47.67A2.34,2.34,0,0,0,5,11a2.35,2.35,0,0,0,.61,1.76A2.4,2.4,0,0,0,7.34,13.38Zm13.35,1.8a1,1,0,0,1-.64-.16,1.3,1.3,0,0,1-.35-.65L15.81,1.51a3,3,0,0,1-.15-.67.36.36,0,0,1,.41-.41H17.7a1,1,0,0,1,.65.16,1.4,1.4,0,0,1,.33.65l2.79,11,2.59-11A1.17,1.17,0,0,1,24.39.6a1.1,1.1,0,0,1,.67-.16H26.4a1.1,1.1,0,0,1,.67.16,1.17,1.17,0,0,1,.32.65L30,12.39,32.88,1.25A1.39,1.39,0,0,1,33.22.6a1,1,0,0,1,.65-.16h1.54a.36.36,0,0,1,.41.41,1.36,1.36,0,0,1,0,.26,3.64,3.64,0,0,1-.12.41l-4,12.86a1.3,1.3,0,0,1-.35.65,1,1,0,0,1-.64.16H29.25a1,1,0,0,1-.67-.17,1.26,1.26,0,0,1-.32-.67L25.67,3.64,23.11,14.34a1.26,1.26,0,0,1-.32.67,1,1,0,0,1-.67.17Zm21.36.44a11.28,11.28,0,0,1-2.56-.29,7.44,7.44,0,0,1-1.92-.67,1,1,0,0,1-.61-.93v-.84q0-.52.38-.52a.9.9,0,0,1,.31.06l.42.17a8.77,8.77,0,0,0,1.83.58,9.78,9.78,0,0,0,2,.2,4.48,4.48,0,0,0,2.43-.55,1.76,1.76,0,0,0,.86-1.57,1.61,1.61,0,0,0-.45-1.16A4.29,4.29,0,0,0,43,9.22l-2.41-.76A5.15,5.15,0,0,1,38,6.78a3.94,3.94,0,0,1-.83-2.41,3.7,3.7,0,0,1,.45-1.85,4.47,4.47,0,0,1,1.19-1.37A5.27,5.27,0,0,1,40.51.29,7.4,7.4,0,0,1,42.6,0a8.87,8.87,0,0,1,1.12.07q.57.07,1.08.19t.95.26a4.27,4.27,0,0,1,.7.29,1.59,1.59,0,0,1,.49.41.94.94,0,0,1,.15.55v.79q0,.52-.38.52a1.76,1.76,0,0,1-.64-.2,7.74,7.74,0,0,0-3.2-.64,4.37,4.37,0,0,0-2.21.47,1.6,1.6,0,0,0-.79,1.48,1.58,1.58,0,0,0,.49,1.18,4.94,4.94,0,0,0,1.83.92L44.55,7a5.08,5.08,0,0,1,2.57,1.6A3.76,3.76,0,0,1,47.9,11a4.21,4.21,0,0,1-.44,1.93,4.4,4.4,0,0,1-1.21,1.47,5.43,5.43,0,0,1-1.85.93A8.25,8.25,0,0,1,42.05,15.62Z"></path><path class="cls-2" d="M45.19,23.81C39.72,27.85,31.78,30,25,30A36.64,36.64,0,0,1,.22,20.57c-.51-.46-.06-1.09.56-.74A49.78,49.78,0,0,0,25.53,26.4,49.23,49.23,0,0,0,44.4,22.53C45.32,22.14,46.1,23.14,45.19,23.81Z"></path><path class="cls-2" d="M47.47,21.21c-.7-.9-4.63-.42-6.39-.21-.53.06-.62-.4-.14-.74,3.13-2.2,8.27-1.57,8.86-.83s-.16,5.89-3.09,8.35c-.45.38-.88.18-.68-.32C46.69,25.8,48.17,22.11,47.47,21.21Z"></path></svg>

</a>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/js/lunr.min.js?1726578020"></script>
<script type="text/javascript" src="/js/auto-complete.js?1726578020"></script>
<script type="text/javascript">
    
        var baseurl = "http:\/\/baoandev.github.io\/";
    
</script>
<script type="text/javascript" src="/js/search.js?1726578020"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/1-introduce/" title="Introduction" class="dd-item 
        
        
        
        ">
      <a href="/1-introduce/">
           <b> 1. </b> Introduction
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/2-realtime/" title="Real-Time Clickstream Anomaly Detection with Amazon Managed Service for Apache Flink " class="dd-item 
        parent
        
        
        ">
      <a href="/2-realtime/">
           <b> 2. </b> Real-Time Clickstream Anomaly Detection with Amazon Managed Service for Apache Flink 
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/2-realtime/2.1-realtimesetup/" title="Real-Time Clickstream Anomaly Detection with Amazon Managed Service for Apache Flink Prelab setup" class="dd-item 
        
        
        
        ">
      <a href="/2-realtime/2.1-realtimesetup/">
           <b> 2.1 </b> Real-Time Clickstream Anomaly Detection with Amazon Managed Service for Apache Flink Prelab setup
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2-realtime/2.2-lab/" title="Lab: Real-Time Clickstream Anomaly Detection with Amazon Managed Service for Apache Flink" class="dd-item 
        
        
        
        ">
      <a href="/2-realtime/2.2-lab/">
           <b> 2.2 </b> Lab: Real-Time Clickstream Anomaly Detection with Amazon Managed Service for Apache Flink
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2-realtime/2.3-labglue/" title="Lab: Streaming ETL with Glue" class="dd-item 
        
        active
        
        ">
      <a href="/2-realtime/2.3-labglue/">
           <b> 2.3 </b> Lab: Streaming ETL with Glue
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/3-ingestion/" title="Ingestion with DMS" class="dd-item 
        
        
        
        ">
      <a href="/3-ingestion/">
           <b> 3. </b> Ingestion with DMS
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/3-ingestion/3.1-skipdms/" title="Option 3: Skip DMS" class="dd-item 
        
        
        
        ">
      <a href="/3-ingestion/3.1-skipdms/">
           <b> 3.1 </b> Option 3: Skip DMS
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/4-transformingdatawithglue/" title="Transforming data with Glue" class="dd-item 
        
        
        
        ">
      <a href="/4-transformingdatawithglue/">
           <b> 4. </b> Transforming data with Glue
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/4-transformingdatawithglue/4.1-datavalidationandetl/" title="Data Validation and ETL" class="dd-item 
        
        
        
        ">
      <a href="/4-transformingdatawithglue/4.1-datavalidationandetl/">
           <b> 4.1 </b> Data Validation and ETL
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/5-queryandvisualize/" title="Query and Visualize" class="dd-item 
        
        
        
        ">
      <a href="/5-queryandvisualize/">
           <b> 5. </b> Query and Visualize
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/5-queryandvisualize/5.1-athenaandquicksight/" title="Athena and Quicksight" class="dd-item 
        
        
        
        ">
      <a href="/5-queryandvisualize/5.1-athenaandquicksight/">
           <b> 5.1 </b> Athena and Quicksight
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/7-gluedatabrew/" title="Glue DataBrew" class="dd-item 
        
        
        
        ">
      <a href="/7-gluedatabrew/">
           <b> 6. </b> Glue DataBrew
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/7-gluedatabrew/7.1-prelab/" title="DataBrew Prelab" class="dd-item 
        
        
        
        ">
      <a href="/7-gluedatabrew/7.1-prelab/">
           <b> 6.1 </b> DataBrew Prelab
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/7-gluedatabrew/7.2-gluedatabrew/" title="Data preparation with Glue DataBrew" class="dd-item 
        
        
        
        ">
      <a href="/7-gluedatabrew/7.2-gluedatabrew/">
           <b> 6.2 </b> Data preparation with Glue DataBrew
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
         
    </ul>

    
    
      <section id="shortcuts">
        <h3>More</h3>
        <ul>
          
              <li> 
                  <a class="padding" href="http://awsstudygroup.com/"><i class='fab fa-aws'></i> AWS Study Group - Blog</a>
              </li>
          
              <li> 
                  <a class="padding" href="https://www.facebook.com/groups/awsstudygroupfcj/"><i class='fab fa-facebook'></i> AWS Study Group - FB Group</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="prefooter">
      <hr/>
      <ul>
      
        <li>
          <a class="padding">
            <i class="fas fa-language fa-fw"></i>
          <div class="select-style">
            <select id="select-language" onchange="location = this.value;">
          
          
          
              
              
                  
                    
                    
                      <option id="en" value="http://baoandev.github.io/2-realtime/2.3-labglue/" selected>English</option>
                    
                  
              
                  
              
          
              
              
                  
              
                  
                    
                    
                      <option id="vi" value="http://baoandev.github.io/vi/2-realtime/2.3-labglue/">Tiếng Việt</option>
                    
                  
              
          
        </select>
        <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
          width="255px" height="255px" viewBox="0 0 255 255" style="enable-background:new 0 0 255 255;" xml:space="preserve">
          <g>
            <g id="arrow-drop-down">
              <polygon points="0,63.75 127.5,191.25 255,63.75 		" />
            </g>
          </g>
        </svg>
        </div>
        </a>
        </li>
      
      
      
        <li><a class="padding" href="#" data-clear-history-toggle=""><i class="fas fa-history fa-fw"></i> Clear History</a></li>
      
      </ul>
    </section>
    
    <section id="footer">
      <left>
    
    <b> Workshop</b> <br>
    <img src="https://hitwebcounter.com/counter/counter.php?page=7920860&style=0038&nbdigits=9&type=page&initCount=0" title="Migrate" Alt="web counter" border="0" /></a> <br>
    <b> <a href="https://cloudjourney.awsstudygroup.com/">Cloud Journey</a></b> <br>
    <img src="https://hitwebcounter.com/counter/counter.php?page=7830807&style=0038&nbdigits=9&type=page&initCount=0" title="Total CLoud Journey" Alt="web counter" border="0" />

</left>
<left>
    <br>
    <br>
    <b> Last Updated </b> <br>
    <i><font color=orange>18-08-2024</font></i>
</left>
<left>
    <br>
    <br>
    <b> Team </b> <br>

    <i> 
        <a href="https://www.linkedin.com/in/an-thai-6a1b16316/"  style="color:orange">Bảo An </a>
    </i>
</left>

<script async defer src="https://buttons.github.io/buttons.js"></script>
    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            <a href='/'>Data with AWS</a> > <a href='/2-realtime/'>Real-Time Clickstream Anomaly Detection with Amazon Managed Service for Apache Flink </a> > Lab: Streaming ETL with Glue
          
        
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li></li>
        <li><a href="#lab-instructions">Lab Instructions</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              Lab: Streaming ETL with Glue
            </h1>
          

        



	<h4 id="introduction">Introduction</h4>
<p>In this lab you will learn how to ingest, process, and consume streaming data using AWS serverless services such as Kinesis Data Streams, Glue, S3, and Athena. To simulate the data streaming input, we will use Kinesis Data Generator (KDG). We have explained KDG earlier in the Streaming Data Analytics Prelab setup page.</p>
<h4 id="streaming-etl-lab">Streaming ETL Lab</h4>
<p><img alt="Streaming ETL with Glue" src="/images/2.realtime/00042-labglue.png"></p>
<h4 id="set-up-the-environment">Set up the environment</h4>
<p>Create CloudFormation with the link belown:
<a href="https://console.aws.amazon.com/cloudformation/home#/stacks/create/review?stackName=dmslab-student&templateURL=https://s3.amazonaws.com/aws-dataengineering-day.workshop.aws/DMSlab_student_CFN.yaml">https://console.aws.amazon.com/cloudformation/home#/stacks/create/review?stackName=dmslab-student&templateURL=https://s3.amazonaws.com/aws-dataengineering-day.workshop.aws/DMSlab_student_CFN.yaml</a>
<img alt="Streaming ETL with Glue" src="/images/2.realtime/00043-labglue.png"></p>
<h4 id="set-up-the-kinesis-stream">Set up the kinesis stream</h4>
<ol>
<li>
<p>Navigate to AWS Kinesis console</p>
</li>
<li>
<p>Click “Create data stream”
<img alt="Streaming ETL with Glue" src="/images/2.realtime/00044-labglue.png"></p>
</li>
<li>
<p>Enter the following details</p>
<ul>
<li>Data stream name: TicketTransactionStreamingData</li>
<li>Capacity mode: Provisioned</li>
<li>Provisioned shards: 2
<img alt="Streaming ETL with Glue" src="/images/2.realtime/00045-labglue.png"></li>
</ul>
</li>
<li>
<p>Click Create data stream</p>
</li>
</ol>
<h3 id="lab-instructions">Lab Instructions</h3>
<h4 id="create-table-for-kinesis-stream-source-in-glue-data-catalog">Create Table for Kinesis Stream Source in Glue Data Catalog</h4>
<ol>
<li>
<p>Navigate to AWS Glue console</p>
</li>
<li>
<p>On the AWS Glue menu, select Data Catalog and then Tables, then click the Add table button.
<img alt="Streaming ETL with Glue" src="/images/2.realtime/00046-labglue.png"></p>
</li>
<li>
<p>Enter TicketTransactionStreamData as the table name</p>
</li>
<li>
<p>Click Create database and enter tickettransactiondatabase as the database name, and click create.
<img alt="Streaming ETL with Glue" src="/images/2.realtime/00047-labglue.png"></p>
</li>
<li>
<p>Use the drop down to select the database we just created, and click Next.
<img alt="Streaming ETL with Glue" src="/images/2.realtime/00048-labglue.png"></p>
</li>
<li>
<p>Select Kinesis as the source, select Stream in my account to select a Kinesis data stream, select the appropriate AWS region where you have created the stream, select the stream name as TicketTransactionStreamingData from the dropdown, choose JSON as the incoming data format, as we will be sending JSON payloads from the Kinesis Data Generator in the following steps. and click Next.
<img alt="Streaming ETL with Glue" src="/images/2.realtime/00049-labglue.png"></p>
</li>
<li>
<p>Leave the schema as empty, as we will enable the schema detection feature when defining the Glue stream job. Leave partition indices empty. Click Next.
<img alt="Streaming ETL with Glue" src="/images/2.realtime/00050-labglue.png"></p>
</li>
<li>
<p>Review all the details and click Create.
<img alt="Streaming ETL with Glue" src="/images/2.realtime/00051-labglue.png"></p>
</li>
</ol>
<h4 id="create-and-trigger-the-glue-streaming-job">Create and trigger the Glue Streaming job</h4>
<ol>
<li>On the left-hand side of the Glue Console, click on Data Integration and ETL and click on ETL jobs.</li>
<li>Click the Create job from a blank graph button.</li>
<li>For the source, click Amazon Kinesis from the list.
<img alt="Streaming ETL with Glue" src="/images/2.realtime/00052-labglue.png"></li>
<li>Click on the &ldquo;Amazon Kinesis&rdquo; node on the canvas, then in the panel on the right under “Data source properties - Kinesis Stream”, configure as follows:</li>
</ol>
<ul>
<li>
<p>** Name** Amazon Kinesis</p>
</li>
<li>
<p>Amazon Kinesis Source: Data Catalog table</p>
</li>
<li>
<p>Database: tickettransactiondatabase</p>
</li>
<li>
<p>Table: tickettransactionstreamdata</p>
</li>
<li>
<p>Make sure that Detect schema is selected</p>
</li>
<li>
<p>Leave all other fields as default
<img alt="Streaming ETL with Glue" src="/images/2.realtime/00053-labglue.png"></p>
</li>
</ul>
<ol start="5">
<li>
<p>Click on the &ldquo;+&rdquo; button to add nodes. Then click &ldquo;Targets&rdquo; tab and click Amazon S3.
<img alt="Streaming ETL with Glue" src="/images/2.realtime/00054-labglue.png">
<img alt="Streaming ETL with Glue" src="/images/2.realtime/00055-labglue.png"></p>
</li>
<li>
<p>Click the Data target - S3 bucket on the canvas, then in the panel on the right under “Data target properties - S3”, configure as follows:</p>
</li>
</ol>
<ul>
<li>Format: Parquet</li>
<li>Compression Type: Uncompressed</li>
<li>S3 Target Location: Select Browse S3 and select the “xxx-xxx-dmslabs3bucket-xxx” bucket
<img alt="Streaming ETL with Glue" src="/images/2.realtime/00056-labglue.png"></li>
</ul>
<ol start="7">
<li>Finally, select the Job details tab at the top and configure as follows:</li>
</ol>
<ul>
<li>Name: TicketTransactionStreamingJob</li>
<li>IAM Role: Select the xxx-GlueLabRole-xxx from the drop down list</li>
<li>Type: Spark Streaming
<img alt="Streaming ETL with Glue" src="/images/2.realtime/00057-labglue.png"></li>
</ul>
<ol start="8">
<li>
<p>Press the Save button in the top right-hand corner to create the job.</p>
</li>
<li>
<p>Once you see the Successfully created job message in the banner, click the Run button to start the job.</p>
</li>
</ol>
<h4 id="trigger-streaming-data-from-kdg">Trigger streaming data from KDG</h4>
<ol>
<li>Launch KDG using the url you bookmarked from the lab setup. Login using the user and password you provided when deploying the Cloudformation stack.</li>
<li>Make sure you select the appropriate region, from the dropdown list, select the TicketTransactionStreamingData as the target Kinesis stream, leave Records per second as the default (100 records per second); for the record template, type in NormalTransaction as the payload name, and copy the template payload as follows:</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;customerId&#34;</span>: <span style="color:#e6db74">&#34;{{random.number(50)}}&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;transactionAmount&#34;</span>: {<span style="color:#960050;background-color:#1e0010">{random.number(</span>
</span></span><span style="display:flex;"><span>        <span style="color:#960050;background-color:#1e0010">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;min&#34;</span>:<span style="color:#ae81ff">10</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;max&#34;</span>:<span style="color:#ae81ff">150</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">)</span>}<span style="color:#960050;background-color:#1e0010">},</span>
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;sourceIp&#34;</span> <span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#e6db74">&#34;{{internet.ip}}&#34;</span><span style="color:#960050;background-color:#1e0010">,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;status&#34;</span><span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#e6db74">&#34;{{random.weightedArrayElement({
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        &#34;</span><span style="color:#960050;background-color:#1e0010">weights</span><span style="color:#e6db74">&#34; : [0.8,0.1,0.1],
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        &#34;</span><span style="color:#960050;background-color:#1e0010">data</span><span style="color:#e6db74">&#34;: [&#34;</span><span style="color:#960050;background-color:#1e0010">OK</span><span style="color:#e6db74">&#34;,&#34;</span><span style="color:#960050;background-color:#1e0010">FAIL</span><span style="color:#e6db74">&#34;,&#34;</span><span style="color:#960050;background-color:#1e0010">PENDING</span><span style="color:#e6db74">&#34;]
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        }        
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    )}}&#34;</span><span style="color:#960050;background-color:#1e0010">,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;transactionTime&#34;</span><span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#e6db74">&#34;{{date.now}}&#34;</span>      
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">}</span>
</span></span></code></pre></div><p><img alt="Streaming ETL with Glue" src="/images/2.realtime/00058-labglue.png"></p>
<ol start="3">
<li>Click Send data to trigger the simulated transaction streaming data.</li>
</ol>





<footer class=" footline" >
	
</footer>

        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
        
        


	 
	 
		
			<a class="nav nav-prev" href="/2-realtime/2.2-lab/" title="Lab: Real-Time Clickstream Anomaly Detection with Amazon Managed Service for Apache Flink"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/3-ingestion/" title="Ingestion with DMS" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js?1726578020"></script>
    <script src="/js/perfect-scrollbar.min.js?1726578020"></script>
    <script src="/js/perfect-scrollbar.jquery.min.js?1726578020"></script>
    <script src="/js/jquery.sticky.js?1726578020"></script>
    <script src="/js/featherlight.min.js?1726578020"></script>
    <script src="/js/highlight.pack.js?1726578020"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom-3.6.0.js?1726578020"></script>
    <script src="/js/learn.js?1726578020"></script>
    <script src="/js/hugo-learn.js?1726578020"></script>

    <link href="/mermaid/mermaid.css?1726578020" rel="stylesheet" />
    <script src="/mermaid/mermaid.js?1726578020"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-158079754-2', 'auto');
  ga('send', 'pageview');

</script>
  </body>
</html>
